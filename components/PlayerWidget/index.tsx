import { View, Text, Image, TouchableOpacity } from 'react-native'
import React, { useEffect, useState } from 'react'

import styles from './styles';
import { Song } from '../../types';
import { AntDesign, FontAwesome } from '@expo/vector-icons';
import { Audio } from 'expo-av';
import {Sound} from "expo-av/build/Audio/Sound";




const song = {
 
    id: '1',
    uri: 'https://firebasestorage.googleapis.com/v0/b/music-31d31.appspot.com/o/9convert.com%20-%20Nirvana%20%20Lithium.mp3?alt=media&token=1f849fdf-3eb0-455d-bcf0-36505f9ab0bd',
 
    imageUri: 'data:image/jpeg;base64,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',
    title: 'Lithium',
    artist: 'Nirvana',
  }

  const PlayerWidget = () => {

    const [sound, setSound] = useState<Sound|null>(null);
    const [isPlaying, setIsPlaying] = useState<boolean>(true);
    const [duration, setDuration] = useState<number|null>(null);
    const [position, setPosition] = useState<number|null>(null);
   

    const onPlaybackStatusUpdate = (status: any) => {
      setIsPlaying(status.isPlaying);
      setDuration(status.durationMillis)
      setPosition(status.positionMillis)
    }

    const playCurrentSong = async ( ) => {
      if(sound) {
        await sound.unloadAsync();
      }

      const { sound: newSound } = await Sound.createAsync({uri: song.uri},{shouldPlay: isPlaying},
      onPlaybackStatusUpdate
        )
        setSound(newSound)
    }
     
    useEffect(() => {
      playCurrentSong();
    }, [])

    const onPlayPausePress = async () => {
      if(!sound) {
        return;
      }
      if(isPlaying) {
        await sound.stopAsync()
      } else {
        await sound.playAsync();
      }
    }

    const getProgress = () => {
      if (sound === null || duration === null || position === null) {
        return 0;
      }

      return (position / duration) * 100;

    }

  return (
    <View style={styles.container}>
      <View style={[styles.progress, {width: `${getProgress()}%`}]} />
      <View style={styles.row}>
      <Image source={{uri: song.imageUri}} style={styles.image}/>
      <View style={styles.rightContainer}>
      <View style={styles.nameContainer}>
        <Text style={styles.title}>{song.title}</Text>
        <Text style={styles.artist}>{song.artist}</Text>
      </View>
      <View style={styles.iconsContainer}>
        <AntDesign name='hearto' size={30} color={'white'} style={styles.myIcon}/>
        <TouchableOpacity onPress={onPlayPausePress}>
           <FontAwesome name={isPlaying ? 'pause' : 'play'} size={30} color={'white'} style={styles.myIcon}/>
        </TouchableOpacity>
      </View>
    
      </View>
</View>
  </View>
  )
}

export default PlayerWidget;